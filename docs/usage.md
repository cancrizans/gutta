# Usage

## How to talk to gutta

### `git-bash` and Working Directory

`gutta` is a command-line utility designed to be used *through* the `git-bash` console which you have installed in the last section. This console might be a bit daunting at first but we don't need to dive into all of the details, just the bare minimum we need to be able to talk to gutta, specifically tell it what to do and listen to what it has to say back.

When you use `git-bash`, you "are" in a specific directory, aptly called the **working directory**. The simplest way to open `git-bash` with a certain working directory is to open the folder in file explorer, right click in empty space, and select the option `Git Bash Here`. This will open `git-bash` with that directory as the working directory.

When `git-bash` is open, the working directory is displayed **in yellow colour** in each line as part of the *prompt*, where you will be able to type commands. The only thing that's really important is to **be aware of the working directory so that you know where you are**. If you don't know where you are, it won't work and you will do damages. If you are not where you want to be, close `git-bash`, open the folder you want to be in, and try again. (This is not the fastest or most comfortable way but it is the easiest.)

Do **not** skip the paragraph above. Don't progress further unless you have it crystal clear what a working directory is and how to tell when it's wrong.


### Issuing commands

You issue commands by typing them in one line in `git-bash` and pressing Enter. the command runs, and then the output is *printed* in the command line. If the command "finishes" it will return control to you and give you a new prompt to type a new command. You can always scroll up to see the output of your previous commands.

For example, enter simply the command 
```bash
gutta version
```

This will print your gutta installation's version in your terminal.

## Creating a new webcomic site

Choose a fresh spot on your pc where to locate your webcomic website, and create a folder for it, call it however you want, but I'm going to call it `mywebsite` in this guide. This name does not matter at all.

Make sure these things are true:

* `mywebsite` is completely empty. 
* In `mywebsite`, you will not save source image files (i.e. `.psd`, `.kra` etc) here. You will not save large unresized images here. You will not save `.docx` design bibles, install software or download stuff. Everything in `mywebsite` is 1) **fully public** and 2) eats at your hosting space budget which is either limited or at your expense. `mywebsite` will be *pristine*.
* `mywebsite` is not contained within a folder you use for other things (like your comic drawing folder so that you might accidentally save a file in there) or that other software uses as a data folder. It also shouldn't really be impractically deep in nested folders.

If everything is clean, you must now open `git-bash` *inside* of `mywebsite`. So open `mywebsite`, right-click on the empty space, `Git Bash Here`. **Check** the working directory. Now and forever for all `gutta` commands we will need `mywebsite` to be the working directory.

Now, type

```bash
gutta create
```

This will set up a basic template website. You can now move to the next step.

*Note: you don't necessarily need to use `gutta create` to begin your webcomic - you could also manually create the required folders and files. It's just more convenient, but there's nothing "magical" that gutta is doing besides copying the template to your empty directory.*

## Project Structure

Your `mywebsite` folder will not be empty anymore. You will notice two folders inside, `_source` and `_assets`. **Note the underscore**. These folders with the underscore are "yours", you make your webcomic by adding, editing, deleting files inside of these folders. Everything that is outside of these two folders, without the underscore, will be generated by gutta based on your specification, and it will contain the finished website proper.

Don't leave any important stuff in `mywebsite` outside of the `_source` and `_assets` folders, or **it might be deleted or overwritten**. Do not attempt to manually modify any file or folders outside of the `_source` and `_assets` folders, or **your modifications WILL be deleted and overwritten soon**. Anything you want to do you can do from the `_source` and `_assets` folders.

Inside the `_source` folder you will find a `webcomic.yaml` file. This is the most important file, and where you will specify most of the content and layout of the webcomic site. You can learn how to write the `webcomic.yaml` in [Content](content.md). You can also find a couple of `.scss` files; these are optional and are used for styling the comic, and you can learn more about that in [Styling](styling.md).

Inside the `_assets` folder is where you will locate images (comic pages, banners, buttons, icons, etc...) and other assets for your site to use. See [Assets](assets.md) for guidance.

But before changing anything, let's try out serving your template webcomic first.

## Serving a Webcomic

Open `git-bash` in your `mywebsite` directory. (Remember, always in `mywebsite`, never anywhere else, not in `_source`, not in the parent directory of `mywebsite`, not in My Documents, **specifically in `mywebsite`**.)

Type

```bash
gutta build
```

`gutta` should say it's building your webcomic, and then return you the prompt. If there are no errors popping up, your site built correctly. If you have any issues down the line, just launching `gutta build` might make it easier to understand errors.

But if everything is ok, skip directly to using this command:

```bash
gutta go
```

`gutta go` first builds your webcomic, but then also *serves* it, which means it starts a local webserver that lets you try out your website as if it was really online. The command will suggest you go to the address `http://127.0.0.1:8069/`, so just open your internet browser (Firefox, Chrome, Edge...) and paste in `http://127.0.0.1:8069/` in the address bar. Your fresh new website will pop up!

When you are tired, you will need to switch off the webserver, so go to the console and press `Ctrl+C`. This stops the webserver and returns you the prompt.

Whenever you make some modifications to your website **in the `_source` folder**, gutta will detect the changes and rebuild your webcomic automatically, after which you should be able to see your changes by refreshing your browser. When you make modifications in the `_assets` folder, a rebuild is not necessary.

And that's it! All you need to do to make your website is add some content, stop and restart `gutta go`, check in your web browser, and then rinse and repeat until it's perfect.

## Warning: web-browser caching

Most web browsers do something generally useful but in our case annoying, which is caching content. This means that over short times they might display outdated versions of your website even though the webserver is serving it fully updated. This can obviously be extremely confusing. To avoid this you need to learn how to do a "full refresh" or **cache override reload** of a page. Here is how you can do it in major browsers:

* Firefox: Shift + click on refresh icon, or press Ctrl+F5, or press Ctrl+Shift+R.
* Chrome: Ctrl + click on refresh icon, or press Ctrl+F5.




